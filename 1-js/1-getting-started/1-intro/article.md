# Введение в JavaScript

Давайте посмотрим, что такого особенного в JavaScript, чего мы можем добиться, используя его, и какие еще технологии хороши для совместного использования с ним.

## Что такое JavaScript?

*JavaScript* изначально создавался для того, чтобы "сделать web-странички живыми".

Программы на этом языке называются *скриптами*. Они могут быть написаны прямо в коде HTML и исполняться автоматически при загрузке страницы.

**Программы на JavaScript существуют и исполняются как обычный текст**. Они не требуют какой-то специальной подготовки или компиляции для исполнения.

В этом плане JavaScript сильно отличается от другого языка, который называется [Java](http://ru.wikipedia.org/wiki/Java).

```smart header="Почему <u>Java</u>Script?"
Когда JavaScript был создан, у него изначально было другое название: "LiveScript". В то время был очень популярен язык Java, поэтому было решено, что позиционирование нового языка как "младшего брата" Java сможет помочь его распространению.

В процессе эволюции JavaScript стал совершенно независимым языком, со своей спецификацией, которая называется [ECMAScript](https://ru.wikipedia.org/wiki/ECMAScript), и сейчас он не имеет к Java совсем никакого отношения.
```

В наши дни JavaScript может выполняться не только в браузере, но и на сервере, и, на самом деле, на любом устройстве, на котором есть специальная программа, которая называется [Движок JavaScript](https://ru.wikipedia.org/wiki/%D0%94%D0%B2%D0%B8%D0%B6%D0%BE%D0%BA_JavaScript).
У браузера есть встроенный движок, иногда называемый "Вирутальная машина JavaScript".

Разные движки имеют разные "кодовые имена", например:

* [V8](https://ru.wikipedia.org/wiki/V8_(%D0%B4%D0%B2%D0%B8%D0%B6%D0%BE%D0%BA_JavaScript)) - в Chrome и Opera.
* [SpiderMonkey](https://ru.wikipedia.org/wiki/SpiderMonkey) - в Firefox.
* ... Также существуют и другие "кодовые имена", такие как "Trident", "Chakra" для различных версий IE, "ChakraCore" для MicrosoftEdge, "Nitro" и "SquirrelFish" для Safari и т.д.

Будет нелишним запомнить вышеуказанные понятия, потому что они используются в публикациях в интернете. Мы также будем использовать их. К примеру, если "Возможность Х поддерживается V8", то она, скорее всего работает, в Chrome и Opera. 

```smart header="Как работает движок"
Движки достаточно сложны. Но основы значительно проще.
1. Движок (встроенный, если речь идет о браузере) читает ("парсит") скрипт.
2. Затем он конвертирует ("компилирует") скрипт в машинный язык.
3. А затем машинный код выполняется, и довольно быстро.

Движок применяет различные оптимизации на каждом шаге процесса. Он даже наблюдает, как выполняется скомпилированный скрипт, анализирует проходящие через него данные, и, основываясь на результатах этих наблюдений, оптимизирует к машинный код. В итоге, исполнение скрипта становится вполне быстрым.
```

## Что может браузерный JavaScript?

Современный JavaScript -- это "безопасный" язык программирования. Он не предоставляет низкоуровневого доступа к памяти или процессору, так как изначально создавался для браузеров, в которых это не требуется.

Возможности сильно зависят от среды, в которой выполняется JavaScript. К примеру, [Node.JS](https://ru.wikipedia.org/wiki/Node.js) поддерживает функции, которые позволяют JavaScript читать/записывать произвольные файлы, осуществлять сетевые запросы и т.д.

Браузерный JavaScript может выполнять любые действия, относящиеся к манипуляциям с веб-страницей, взаимодействием с пользователем и веб-сервером.

К примеру, браузерный JavaScript способен:

- Добавлять новые HTML-теги, изенять существующий конент, менять стили элементов.
- Реагировать на действия пользователя, обрабатывать клики мыши, перемещения курсора, нажатия на кнопки.
- Посылать запросы на удалённые серверы, загружать данные с них и на них (такие технологии как [AJAX](https://ru.wikipedia.org/wiki/AJAX) и [COMET](https://ru.wikipedia.org/wiki/Comet_(%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5))).
- Получать и устанавливать cookie, задавать вопросы посетителям, показывать сообщения.
- Запоминать данные на стороне клиента ("local storage")

## Что НЕ МОЖЕТ браузерный JavaScript?

Возможности JavaScript в браузере ограниченены ради безопасности пользователя. Цель этого - препятствовать злоумышленникам получать доступ к приватной информации или наносить вред данным пользователя.

- JavaScript на веб-странице не может читать/записывать произвольные файлы на жестком диске, копировать их или вызывать программы.У него нет прямого доступа к системным функциям операционной системы.

    Современные браузеры могут работать с файлами, но эта возможность ограничена специально выделенной директорией -- *"песочницей"*. Возможности по доступу к устройствам также прорабатываются в современных стандартах и частично доступны в некоторых браузерах.
- JavaScript, работающий в одной вкладке, не может общаться с другими вкладками и окнами, за исключением случая, когда он сам открыл это окно или несколько вкладок из одного источника (одинаковый домен, порт, протокол).

    Есть способы это обойти, и они раскрыты в учебнике, но они требуют специального кода на оба документа, которые находятся в разных вкладках или окнах. Без него, из соображений безопасности, залезть из одной вкладки в другую при помощи JavaScript нельзя.
- Из JavaScript можно легко посылать запросы на сервер, с которого пришла страница. Запрос на другой домен тоже возможен, но менее удобен, т. к. и здесь есть ограничения безопасности.

![|width="530" height="400"](limitations.png)

Этих ограничений нет там, где JavaScript используется вне браузера, например на сервере. Кроме того, современные браузеры предоставляют свои механизмы по установке плагинов и расширений, которые обладают расширенными возможностями, но требуют специальных действий по установке от пользователя

## В чём уникальность JavaScript?

Есть как минимум *три* замечательных особенности JavaScript:

```compare
+ Полная интеграция с HTML/CSS.
+ Простые вещи делаются просто.
+ Поддерживается всеми распространёнными браузерами и включён по умолчанию.
```

**Этих трёх вещей одновременно нет больше ни в одной браузерной технологии.**

Поэтому JavaScript и является самым распространённым средством создания браузерных интерфейсов.

Перед тем, как вы планируете изучить новую технологию, полезно ознакомиться с её развитием и перспективами. Поэтому давайте двигаться дальше в иззучении современных трендов, которые включают новые стандарты языка и возможности браузера.


## Языки поверх JavaScript
Синтаксис JavaScript устраивает не всех. Разные люди хотят различные возможности.

Это вполне ожидаемо, потому что проекты и требования у всех отличаются.

Таким образом появился ряд новых языков, которые "транслируются" (конвертируются) в JavaScript до своего выполнения в браузере.

Современные инструменты делают такое преобразование очень быстрым и прозрачным, позволяя разработчикам программировать на другом языке и авто-конвертировать его "под капотом".

Примеры таких языков:
* [CoffeeScript](http://coffeescript.org/) - "синтаксический сахар" для JavaScript, предоставляет более короткий синтаксис, позволяя писать более точный и понятный код. Особенно любим Ruby-разработчиками.
* [TypeScript](http://www.typescriptlang.org/) - сконцентрирован на добавлении "строгой типизации данных", для упрощения разработки и поддержки сложных систем. Разработан в Microsoft
* [Dart](https://www.dartlang.org/) - отдельный язык, имеющий собственный движок который выполняется вне браузера (к примеру, мобильные приложения). Он был изначально предложен Google, как замена JavaScript, но сейчас браузеры требуют его трансляции в JavaScript, также как вышеперечисленные языки.

И т.д. Конечно, даже используя один из этих языков, мы также должны знать JavaScript, чтобы действительно понимать, что происходит.

## Итого
* JavaScript был изначально разработан, как язык только для браузеров, но сейчас также используется во множестве других сред.
* На данный момент JavaScript занимает уникальное место, как наиболее широко адаптированный для работы с браузерами язык, с полной интеграцией HTML/CSS
* Существуют различные языки, которые "транслируются" в JavaScript и предоставляют оперделенный функционалю Мы рекомендуем ознакомиться с ними, хотя бы поверхностно, после освоения JavaScript.


